{
  "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "virtualMachinesExtensionSettings": {
      "value": [
        {
          "vms": [ "ha-nva-vm1", "ha-nva-vm2" ],
          "extensions": [
            {
              "name": "docker-config-ext",
              "settingsConfigMapperUri": "https://raw.githubusercontent.com/mspnp/template-building-blocks/master/templates/resources/Microsoft.Compute/virtualMachines/extensions/vm-extension-passthrough-settings-mapper.json",
              "publisher": "Microsoft.OSTCExtensions",
              "type": "CustomScriptForLinux",
              "typeHandlerVersion": "1.5",
              "autoUpgradeMinorVersion": true,
              "settingsConfig": {
                "fileUris": [ "https://raw.githubusercontent.com/mspnp/ha-nva/master/extensions/configure-ufw.sh" ],
                "commandToExecute": "sh configure-ufw.sh 1.1.1.1 10.0.0.100"
              },
              "protectedSettingsConfig": {}
            }
          ]
        }
      ]
    }
  }
}


